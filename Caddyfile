# Tools Portal v2 - Caddyfile
# Automatic HTTPS with Let's Encrypt

# Development / HTTP-only configuration
# Use this for local testing
:80 {
    reverse_proxy tools-portal:5000
    encode gzip
    log {
        output stdout
        format json
    }
}

# Production / HTTPS configuration
# Uncomment and replace 'your-domain.com' with your actual domain
# Caddy will automatically get and renew Let's Encrypt certificates!
#
# your-domain.com {
#     reverse_proxy tools-portal:5000
#     encode gzip
#     log {
#         output stdout
#         format json
#     }
#
#     # Optional: Rate limiting
#     # rate_limit {
#     #     zone dynamic {
#     #         key {remote_host}
#     #         events 100
#     #         window 1m
#     #     }
#     # }
#
#     # Optional: Security headers
#     header {
#         # Enable HSTS
#         Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
#         # Prevent clickjacking
#         X-Frame-Options "DENY"
#         # Prevent MIME sniffing
#         X-Content-Type-Options "nosniff"
#         # Enable XSS protection
#         X-XSS-Protection "1; mode=block"
#         # Referrer policy
#         Referrer-Policy "strict-origin-when-cross-origin"
#     }
# }
